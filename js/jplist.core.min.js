/**
* jPList - jQuery Data Grid Controls 5.1.340 - http://jplist.com 
* Copyright 2015 jPList Software
*/
(function(){var d=function(a,b,e){switch(b){case "add":a&&a.controller&&a.controller.collection&&e.$item&&(b=a.controller.collection.dataitems.length,jQuery.isNumeric(e.index)&&0<=e.index&&e.index<=a.controller.collection.dataitems.length&&(b=Number(e.index)),a.controller.collection.addDataItem(e.$item,a.controller.collection.paths,b),a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1]));break;case "del":a&&a.controller&&a.controller.collection&&e.$item&&(a.controller.collection.delDataitem(e.$item),
e.$item.remove(),a.observer.trigger(a.observer.events.unknownStatusesChanged,[!1]));break;case "getDataItems":e=null;if(a.options&&a.options.dataSource)switch(a.options.dataSource.type){case "html":a.controller&&a.controller.collection&&(e=a.controller.collection.dataitems);break;case "server":a.controller&&a.controller.model&&a.controller.model.dataItem&&(e=a.controller.model.dataItem)}return e}},c=function(a){a.observer.on(a.observer.events.knownStatusesChanged,function(b,e){a.controller.renderStatuses(e)});
a.observer.on(a.observer.events.statusesAppliedToList,function(b,e,c){jQuery.fn.jplist.info(a.options,"panel statusesAppliedToList -> setControlsStatuses: ",c);a.panel.setStatuses(c);jQuery.fn.jplist.dal.services.DeepLinksService.updateUrlPerControls(a.options,a.panel.getDeepLinksURLPerControls())});a.observer.on(a.observer.events.unknownStatusesChanged,function(b,e){jQuery.fn.jplist.info(a.options,"panel statusesChanged, isDefault: ",e);a.panel.unknownStatusesChanged(e)});a.$root.find(a.options.iosBtnPath).on("click",
function(){jQuery(this).next(a.options.panelPath).toggleClass("jplist-ios-show")});a.observer.on(a.observer.events.statusChanged,function(b,e){jQuery.fn.jplist.info(a.options,"panel statusChanged: ",e);a.history.addStatus(e);a.panel.mergeStatuses(e)});a.observer.on(a.observer.events.statusesChangedByDeepLinks,function(b,e,c){a.panel.statusesChangedByDeepLinks(e,c)})},b=function(a,b){var e={observer:null,panel:null,controller:null,$root:b};e.options=jQuery.extend(!0,{debug:!1,command:"init",commandData:{},
itemsBox:".list",itemPath:".list-item",panelPath:".panel",noResults:".jplist-no-results",redrawCallback:"",iosBtnPath:".jplist-ios-button",animateToTop:"html, body",animateToTopDuration:0,effect:"",duration:300,fps:24,storage:"",storageName:"jplist",cookiesExpiration:-1,deepLinking:!1,hashStart:"#",delimiter0:":",delimiter1:"|",delimiter2:"~",delimiter3:"!",historyLength:10,dataSource:{type:"html",server:{ajax:{url:"server.php",dataType:"html",type:"POST"},serverOkCallback:null,serverErrorCallback:null},
render:null}},a);e.observer=new jQuery.fn.jplist.app.events.PubSub(e.$root,e.options);e.history=new jQuery.fn.jplist.app.History(e.$root,e.options,e.observer);e.panel=new jQuery.fn.jplist.ui.panel.controllers.PanelController(b,e.options,e.history,e.observer);e.options.dataSource=e.options.dataSource||{};e.options.dataSource.type=e.options.dataSource.type||"html";jQuery.fn.jplist.info(e.options,"Data Source Type: ",e.options.dataSource.type);switch(e.options.dataSource.type){case "html":e.controller=
new jQuery.fn.jplist.ui.list.controllers.DOMController(e.$root,e.options,e.observer,e.panel,e.history);break;case "server":jQuery.fn.jplist.info(e.options,"Data Source: ",e.options.dataSource),e.controller=new jQuery.fn.jplist.ui.list.controllers.ServerController(e.$root,e.options,e.observer,e.panel,e.history)}c(e);e.options.deepLinking?(jQuery.fn.jplist.info(e.options,"Deep linking enabled",""),e.panel.setStatusesByDeepLink()):e.panel.setStatusesFromStorage();e.observer.trigger(e.observer.events.init,
[]);return jQuery.extend(this,e)};jQuery.fn.jplist=function(a){if(a.command&&"init"!==a.command){var c;if(c=this.data("jplist"))return d(c,a.command,a.commandData)}else return this.each(function(){var c,d=jQuery(this);c=new b(a,d);d.data("jplist",c)})}})();jQuery.fn.jplist.controlTypes={};jQuery.fn.jplist.itemControlTypes={};jQuery.fn.jplist.settings={};jQuery.fn.jplist.app=jQuery.fn.jplist.app||{};jQuery.fn.jplist.app.services=jQuery.fn.jplist.app.services||{};jQuery.fn.jplist.app.services.DTOMapperService=jQuery.fn.jplist.app.services.DTOMapperService||{};jQuery.fn.jplist.app.dto=jQuery.fn.jplist.app.dto||{};jQuery.fn.jplist.app.events=jQuery.fn.jplist.app.events||{};jQuery.fn.jplist.domain=jQuery.fn.jplist.domain||{};
jQuery.fn.jplist.domain.dom=jQuery.fn.jplist.domain.dom||{};jQuery.fn.jplist.domain.dom.models=jQuery.fn.jplist.domain.dom.models||{};jQuery.fn.jplist.domain.dom.collections=jQuery.fn.jplist.domain.dom.collections||{};jQuery.fn.jplist.domain.dom.services=jQuery.fn.jplist.domain.dom.services||{};jQuery.fn.jplist.domain.dom.services.FiltersService=jQuery.fn.jplist.domain.dom.services.FiltersService||{};
jQuery.fn.jplist.domain.dom.services.SortService=jQuery.fn.jplist.domain.dom.services.SortService||{};jQuery.fn.jplist.domain.dom.services.pagination=jQuery.fn.jplist.domain.dom.services.pagination||{};jQuery.fn.jplist.domain.server=jQuery.fn.jplist.domain.server||{};jQuery.fn.jplist.domain.server.models=jQuery.fn.jplist.domain.server.models||{};jQuery.fn.jplist.domain.deeplinks=jQuery.fn.jplist.domain.deeplinks||{};
jQuery.fn.jplist.domain.deeplinks.services=jQuery.fn.jplist.domain.deeplinks.services||{};jQuery.fn.jplist.dal=jQuery.fn.jplist.dal||{};jQuery.fn.jplist.dal.services=jQuery.fn.jplist.dal.services||{};jQuery.fn.jplist.ui=jQuery.fn.jplist.ui||{};jQuery.fn.jplist.ui.list=jQuery.fn.jplist.ui.list||{};jQuery.fn.jplist.ui.list.models=jQuery.fn.jplist.ui.list.models||{};jQuery.fn.jplist.ui.list.controllers=jQuery.fn.jplist.ui.list.controllers||{};
jQuery.fn.jplist.ui.list.collections=jQuery.fn.jplist.ui.list.collections||{};jQuery.fn.jplist.ui.list.views=jQuery.fn.jplist.ui.list.views||{};jQuery.fn.jplist.ui.controls=jQuery.fn.jplist.ui.controls||{};jQuery.fn.jplist.ui.itemControls=jQuery.fn.jplist.ui.itemControls||{};jQuery.fn.jplist.ui.statuses=jQuery.fn.jplist.ui.statuses||{};jQuery.fn.jplist.ui.panel=jQuery.fn.jplist.ui.panel||{};jQuery.fn.jplist.ui.panel.controllers=jQuery.fn.jplist.ui.panel.controllers||{};
jQuery.fn.jplist.ui.panel.collections=jQuery.fn.jplist.ui.panel.collections||{};(function(){jQuery.fn.jplist.app.events.PubSub=function(d,c){var b={options:c,$root:d,events:{init:"1",unknownStatusesChanged:"2",knownStatusesChanged:"3",statusChanged:"4",statusesChangedByDeepLinks:"5",listSorted:"6",listFiltered:"7",listPaginated:"8",dataItemAdded:"9",dataItemRemoved:"10",collectionReadyEvent:"11",statusesAppliedToList:"12",animationStartEvent:"13",animationStepEvent:"14",animationCompleteEvent:"15"}};return jQuery.extend(!0,jQuery({}),this,b)}})();(function(){jQuery.fn.jplist.app.dto.StatusDTO=function(d,c,b,a,f,e,g,h){this.action=c;this.name=d;this.type=b;this.data=a;this.inStorage=f;this.inAnimation=e;this.isAnimateToTop=g;this.inDeepLinking=h}})();(function(){jQuery.fn.jplist.app.History=function(d,c,b){this.options=c;this.observer=b;this.$root=d;this.statusesQueue=[];this.listStatusesQueue=[]};jQuery.fn.jplist.app.History.prototype.addStatus=function(d){this.statusesQueue.push(d);this.statusesQueue.length>this.options.historyLength&&this.statusesQueue.shift()};jQuery.fn.jplist.app.History.prototype.getLastStatus=function(){var d=null;0<this.statusesQueue.length&&(d=this.statusesQueue[this.statusesQueue.length-1]);return d};jQuery.fn.jplist.app.History.prototype.popStatus=
function(){var d=null;0<this.statusesQueue.length&&(d=this.statusesQueue.pop());return d};jQuery.fn.jplist.app.History.prototype.getLastList=function(){var d=null;0<this.listStatusesQueue.length&&(d=this.listStatusesQueue[this.listStatusesQueue.length-1]);return d};jQuery.fn.jplist.app.History.prototype.addList=function(d){this.listStatusesQueue.push(d);this.listStatusesQueue.length>this.options.historyLength&&this.listStatusesQueue.shift()};jQuery.fn.jplist.app.History.prototype.popList=function(){var d=
null;0<this.listStatusesQueue.length&&(d=this.listStatusesQueue.pop());return d}})();(function(){var d=function(a,b,c,d){b=[];for(var h,k=0;k<a.statuses.length;k++)h=a.statuses[k],h[c]===d&&(h.initialIndex=k,b.push(h));return b},c=function(a,b){for(var c=[],d,h=0;h<a.statuses.length;h++)d=a.statuses[h],d.action===b&&c.push(d);return c},b=function(a,b,c){var g,h,k,l;if(0===a.statuses.length)a.statuses.push(b);else if(g=d(a,a.statuses,"action",b.action),0===g.length)a.statuses.push(b);else if(k=d(a,g,"name",b.name),0===k.length)a.statuses.push(b);else for(var m=0;m<k.length;m++)g=k[m],
g.type===b.type?c?a.statuses[g.initialIndex]=b:g.data&&b.data&&(h=!1,l=[],jQuery.each(g.data,function(a,c){b[a]!==c&&(h=!0,l.push(a+": "+b[a]+" !== "+c))}),h&&jQuery.fn.jplist.warn(a.options,"The statuses have the same name, action and type, but different data values",[g,b,l])):(a.statuses[g.initialIndex]=jQuery.extend(!0,{},g,b),a.statuses[g.initialIndex].type="combined")};jQuery.fn.jplist.app.dto.StatusesDTOCollection=function(a,b,c){this.options=a;this.observer=b;this.statuses=c||[]};jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.getStatusesByAction=
function(a){return c(this,a)};jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.add=function(a,c){return b(this,a,c)};jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.get=function(a){var b=null;0<=a&&a<this.statuses.length&&(b=this.statuses[a]);return b};jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.toArray=function(){return this.statuses};jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.getSortStatuses=function(){var a,b,d=[],g;a=c(this,"sort");if(jQuery.isArray(a))for(var h=
0;h<a.length;h++)if((b=a[h])&&b.data&&b.data.sortGroup&&jQuery.isArray(b.data.sortGroup)&&0<b.data.sortGroup.length)for(var k=0;k<b.data.sortGroup.length;k++)g=new jQuery.fn.jplist.app.dto.StatusDTO(b.name,b.action,b.type,b.data.sortGroup[k],b.inStorage,b.inAnimation,b.isAnimateToTop,b.inDeepLinking),d.push(g);else d.push(b);return d};jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.getFilterStatuses=function(){var a,b,d,g=[];a=c(this,"filter");if(jQuery.isArray(a))for(var h=0;h<a.length;h++)(b=
a[h])&&b.data&&b.data.filterType&&(d=jQuery.fn.jplist.app.services.DTOMapperService.filters[b.data.filterType],jQuery.isFunction(d)&&g.push(b));return g}})();(function(){jQuery.fn.jplist.app.services.DTOMapperService.filters={};jQuery.fn.jplist.app.services.DTOMapperService.filters.TextFilter=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter(d.data.value,b,c,d.data.ignore)};jQuery.fn.jplist.app.services.DTOMapperService.filters.path=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,null);
return jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter(b,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.range=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter(b,c,d.data.min,d.data.max,d.data.prev,d.data.next)};jQuery.fn.jplist.app.services.DTOMapperService.filters.date=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,
null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter(d.data.year,d.data.month,d.data.day,b,c,d.data.format)};jQuery.fn.jplist.app.services.DTOMapperService.filters.dateRange=function(d,c){var b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter(b,c,d.data.format,d.data.prev_year,d.data.prev_month,d.data.prev_day,d.data.next_year,d.data.next_month,d.data.next_day)};jQuery.fn.jplist.app.services.DTOMapperService.filters.pathGroup=
function(d,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter(d.data.pathGroup,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.textGroup=function(d,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter(d.data.textGroup,d.data.logic,d.data.path,d.data.ignoreRegex,c)};jQuery.fn.jplist.app.services.DTOMapperService.filters.textFilterPathGroup=function(d,c){return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup(d.data.textAndPathsGroup,
d.data.ignoreRegex,c)};jQuery.fn.jplist.app.services.DTOMapperService.sort={};jQuery.fn.jplist.app.services.DTOMapperService.sort.text=function(d,c,b){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,d.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(c,b,d.data.order,a,d.data.ignore||"")};jQuery.fn.jplist.app.services.DTOMapperService.sort.number=function(d,c,b){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,
d.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(c,b,d.data.order,a)};jQuery.fn.jplist.app.services.DTOMapperService.sort.datetime=function(d,c,b){var a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(d.data.path,d.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(c,b,d.data.order,a,d.data.dateTimeFormat||"")}})();(function(){jQuery.fn.jplist.logEnabled=function(d){return d.debug&&window.console&&jQuery.isFunction(window.console.log)};jQuery.fn.jplist.log=function(d,c,b){jQuery.fn.jplist.logEnabled(d)&&window.console.log(c,b)};jQuery.fn.jplist.info=function(d,c,b){jQuery.fn.jplist.logEnabled(d)&&window.console.info(c,b)};jQuery.fn.jplist.error=function(d,c,b){jQuery.fn.jplist.logEnabled(d)&&window.console.error(c,b)};jQuery.fn.jplist.warn=function(d,c,b){jQuery.fn.jplist.logEnabled(d)&&window.console.warn(c,
b)}})();(function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel=function(d,c){this.jqPath=d;this.dataType=c};jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel.prototype.isEqual=function(d,c){var b=!1;c?this.jqPath===d.jqPath&&(b=!0):this.jqPath===d.jqPath&&this.dataType===d.dataType&&(b=!0);return b}})();(function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberModel=function(d,c){this.$element=d;this.path=c;this.text=d.text();this.html=d.html()}})();(function(){jQuery.fn.jplist.domain.dom.models.DataItemModel=function(d,c,b){this.pathitems=[];this.jqElement=this.$item=d;this.index=b;this.html=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(d);var a,f;d=[];for(b=0;b<c.length;b++)a=c[b],f=this.$item.find(a.jqPath),0<f.length&&(a=new jQuery.fn.jplist.domain.dom.models.DataItemMemberModel(f,a),d.push(a));this.pathitems=d};jQuery.fn.jplist.domain.dom.models.DataItemModel.prototype.findPathitem=function(d){for(var c=null,b,a=0;a<this.pathitems.length;a++)if(b=
this.pathitems[a],b.path.isEqual(d,!0)){c=b;break}return c}})();(function(){var d=function(a,b){var c,d,e;c=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,b)).getFilterStatuses();if(0<c.length){for(var f=0;f<c.length;f++)d=c[f],e=jQuery.fn.jplist.app.services.DTOMapperService.filters[d.data.filterType],a.dataview=e(d,a.dataview);a.observer.trigger(a.observer.events.listFiltered,[b,a])}},c=function(a,b){var c,d=null,e;c=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,b)).getStatusesByAction("paging",b);if(0<c.length){for(var f=
0;f<c.length;f++)d=c[f],e=d.data.currentPage||0,d=new jQuery.fn.jplist.domain.dom.services.PaginationService(e,d.data.number,a.dataview.length),c[f].data.paging=d,a.dataview=jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter(d,a.dataview);a.observer.trigger(a.observer.events.listPaginated,[b,a])}},b=function(a,b){var c=[],c=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(a.options,a.observer,b)).getSortStatuses();0<c.length&&(jQuery.fn.jplist.domain.dom.services.SortService.doubleSort(c,
a.dataview),a.observer.trigger(a.observer.events.listSorted,[b,a]))},a=function(a){return jQuery(a.dataview).map(function(a,b){return b.jqElement.get()})},f=function(a){return jQuery(a.dataitems).map(function(a,b){return b.jqElement.get()})},e=function(a){a.dataview=jQuery.merge([],a.dataitems)},g=function(a,b){for(var c,d=-1,e,f=0;f<a.dataitems.length;f++)if(c=a.dataitems[f],c=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(c.jqElement),e=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(b),
c===e){d=f;break}return d},h=function(a,b){var c;c=g(a,b);-1!==c&&(a.dataitems.splice(c,1),a.observer.trigger(a.observer.events.dataItemRemoved,[b,a.dataitems]))},k=function(a,b){b.each(function(){h(a,jQuery(this))})},l=function(a,b,c,d){b=new jQuery.fn.jplist.domain.dom.models.DataItemModel(b,c,d);a.dataitems.splice(d,0,b);a.observer.trigger(a.observer.events.dataItemAdded,[b,a.dataitems])},m=function(a,b,c,d){for(var e;c<b.length;c++)e=b.eq(c),l(a,e,d,c),c+1<b.length&&0===c%50&&window.setTimeout(function(){m(a,
b,c,d)},0)};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection=function(a,b,c,d){this.dataitems=[];this.dataview=[];this.options=a;this.observer=b;this.paths=d;0<c.length&&(m(this,c,0,d),e(this));this.observer.trigger(this.observer.events.collectionReadyEvent,[this])};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.applyStatuses=function(a){e(this);b(this,a);d(this,a);c(this,a);this.observer.trigger(this.observer.events.statusesAppliedToList,[this,a])};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.filter=
function(a){d(this,a)};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.sort=function(a){b(this,a)};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.pagination=function(a){c(this,a)};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.dataviewToJqueryObject=function(){return a(this)};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.dataitemsToJqueryObject=function(){return f(this)};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.resetDataview=
function(){e(this)};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.empty=function(){this.dataitems=[];this.dataview=[]};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.addDataItem=function(a,b,c){l(this,a,b,c)};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.addDataItems=function(a,b){m(this,a,0,b);e(this)};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.delDataitem=function(a){h(this,a)};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.delDataitems=
function(a){k(this,a)};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.indexOf=function(a){return g(this,a)};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.dataviewToString=function(){var a,b="",c;for(c=0;c<this.dataview.length;c++)a=this.dataview[c],b+=a.content;return b}})();(function(){var d=function(c,b){for(var a,d=!1,e=0;e<c.paths.length;e++)if(a=c.paths[e],a.isEqual(b,!0)){d=!0;break}return d};jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection=function(c,b){this.options=c;this.observer=b;this.paths=[]};jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection.prototype.add=function(c){d(this,c)||this.paths.push(c)};jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection.prototype.addRange=function(c){for(var b=0;b<c.length;b++){var a=
c[b];d(this,a)||this.paths.push(a)}};jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection.prototype.isPathInList=function(c){return d(this,c)}})();(function(){jQuery.fn.jplist.domain.dom.services.PaginationService=function(d,c,b){b=Number(b);isNaN(b)&&(b=0);b=this.itemsNumber=b;null===c?c=b:(c=Number(c),isNaN(c)&&(c=b));this.itemsOnPage=c;c=(c=this.itemsOnPage)?Math.ceil(this.itemsNumber/c):0;c=this.pagesNumber=c;d=Number(d);isNaN(d)&&(d=0);d>c-1&&(d=0);this.currentPage=d;this.start=this.currentPage*this.itemsOnPage;d=this.itemsNumber;c=this.start+this.itemsOnPage;c>d&&(c=d);this.end=c;d=this.currentPage;this.prevPage=0>=d?0:d-1;d=this.currentPage;
c=this.pagesNumber;this.nextPage=0===c?0:d>=c-1?c-1:d+1}})();(function(){jQuery.fn.jplist.domain.dom.services.PaginationGoogleService=function(d,c,b){b=Number(b);isNaN(b)&&(b=0);b=this.itemsNumber=b;null===c?c=b:(c=Number(c),isNaN(c)&&(c=b));this.itemsOnPage=c;c=(c=this.itemsOnPage)?Math.ceil(this.itemsNumber/c):0;c=this.pagesNumber=c;d=Number(d);isNaN(d)&&(d=0);d>c-1&&(d=0);this.currentPage=d;this.start=this.currentPage*this.itemsOnPage;d=this.itemsNumber;c=this.start+this.itemsOnPage;c>d&&(c=d);this.end=c;d=this.currentPage;this.prevPage=0>=d?0:d-1;d=this.currentPage;
c=this.pagesNumber;this.nextPage=0===c?0:d>=c-1?c-1:d+1}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter=function(d,c,b,a,f,e){for(var g,h,k=[],l=0;l<f.length;l++)if(g=f[l],h=g.findPathitem(a))jQuery.isNumeric(d)&&jQuery.isNumeric(c)&&jQuery.isNumeric(b)?(h=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(h.text,e))&&jQuery.isFunction(h.getFullYear)&&(h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.getFullYear()===d&&h.getMonth()===c&&h.getDate()===b&&k.push(g)):k.push(g);return k}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter=function(d,c,b,a,f,e,g,h,k){for(var l=[],m,p,q,n,r=0;r<c.length;r++)if(m=c[r],p=m.findPathitem(d))q=!jQuery.isNumeric(a)||!jQuery.isNumeric(f)||!jQuery.isNumeric(e),n=!jQuery.isNumeric(g)||!jQuery.isNumeric(h)||!jQuery.isNumeric(k),q||n?l.push(m):(n=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(p.text,b))&&jQuery.isFunction(n.getFullYear)&&(p=new Date(a,f,e),q=new Date(g,h,k),n.setHours(0),n.setMinutes(0),
n.setSeconds(0),n>=p&&n<=q&&l.push(m));return l}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter=function(d,c){return c.slice(d.start,d.end)}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter=function(d,c){for(var b,a,f=[],e=0;e<c.length;e++)b=c[e],"default"===d.jqPath?f.push(b):(a=b.findPathitem(d))&&f.push(b);return f}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter=function(d,c){var b,a=[],f,e=[];if(0>=d.length)return c;for(f=0;f<d.length;f++)b=d[f],b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,null),a.push(b);for(var g=0;g<c.length;g++){f=c[g];for(var h=0;h<a.length;h++)if(b=a[h],"default"===b.jqPath){e.push(f);break}else(b=f.findPathitem(b))&&e.push(f)}return e}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter=function(d,c,b,a,f,e){b=[];for(var g,h=jQuery.isNumeric(f),k=jQuery.isNumeric(e),l=0;l<c.length;l++)if(a=c[l],g=a.findPathitem(d))g=Number(g.text.replace(/[^-0-9\.]+/g,"")),isNaN(g)||(h&&k?g>=f&&g<=e&&b.push(a):h&&!k?g>=f&&b.push(a):!h&&k&&g<=e&&b.push(a));return b}})();(function(){var d=function(a){var b=[],c;if(a)for(var d=0;d<a.length;d++)(c=jQuery.trim(a[d]))&&b.push(c);return b},c=function(a,b){var c=!1,g;g=b.split(" or ");g=d(g);if(0<g.length)for(var c=-1!==a.indexOf(g[0]),h=1;h<g.length;h++)c=c||-1!==a.indexOf(g[h]);return c},b=function(a,b){var e,g,h=!1;e=b.split(" and ");e=d(e);if(0<e.length){g=e[0];for(var h=-1===g.indexOf(" or ")?-1!==a.indexOf(g):c(a,g),k=1;k<e.length;k++)g=e[k],h=-1===g.indexOf(" or ")?h&&-1!==a.indexOf(g):h&&c(a,g)}return h};jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse=
function(a,f){f=jQuery.trim(f);if(-1===f.indexOf(" or ")&&-1===f.indexOf(" and ")&&-1===f.indexOf("not "))return-1!==a.indexOf(f);var e,g,h=!1;e=f.split("not ");e=d(e);if(0<e.length){g=e[0];for(var h=-1===g.indexOf(" and ")?-1===g.indexOf(" or ")?-1===a.indexOf(g):c(a,g):b(a,g),k=1;k<e.length;k++)g=e[k],h=-1===g.indexOf(" and ")?(h=-1===g.indexOf(" or ")?h&&-1===a.indexOf(g):h&&c(a,g))&&c(a,g):h&&b(a,g)}return h}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter=function(d,c,b,a,f){var e,g,h,k=[],l,m;if(0>=d.length)return f;h=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,null);for(var p=0;p<f.length;p++)if(b=f[p],g=b.findPathitem(h),"default"===h.jqPath)k.push(b);else if(g)if(g=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(g.text,a),"or"===c)for(m=0;m<d.length;m++){if(e=d[m],e=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(e,
a),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(g,e)){k.push(b);break}}else{l=[];for(m=0;m<d.length;m++)e=d[m],e=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(e,a),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(g,e)&&l.push(e);l.length===d.length&&k.push(b)}return k}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter=function(d,c,b,a){for(var f,e,g=[],h,k=0;k<b.length;k++)f=b[k],e=f.findPathitem(c),"default"===c.jqPath?g.push(f):e&&(e=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(e.text,a),h=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(d,a),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(e,h)&&g.push(f));return g}})();(function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup=function(d,c,b){var a,f,e=[],g=[],h,k;for(k=0;k<d.length;k++)h=d[k],h.selected&&(a=h.path,f=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(a,null),h.pathObj=f,e.push(h));if(0>=e.length)return b;for(a=0;a<b.length;a++){d=b[a];k=!1;for(var l=0;l<e.length;l++)if(h=e[l],f=h.pathObj)if("default"===f.jqPath){k=!0;break}else if(f=d.findPathitem(f))f=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(f.text,
c),h=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(h.text,c),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(f,h)&&(k=!0);k&&g.push(d)}return g}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper=function(d,c,b,a,f){d=d.findPathitem(a);c=c.findPathitem(a);return d&&c?(jQuery.trim(f)?(a=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(d.text,f),f=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(c.text,f)):(a=new Date(Date.parse(d.text)),f=new Date(Date.parse(c.text))),a==f?0:"asc"==b?a>f?1:-1:a<f?1:-1):0};jQuery.fn.jplist.domain.dom.services.SortService.datetime=function(d,c,b,a){b.sort(function(b,
e){return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(b,e,d,c,a)})}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper=function(d,c,b,a){d=d.findPathitem(a);c=c.findPathitem(a);return d&&c?(a=parseFloat(d.text.replace(/[^-0-9\.]+/g,"")),c=parseFloat(c.text.replace(/[^-0-9\.]+/g,"")),b=a==c?0:"asc"==b?isNaN(a)?1:isNaN(c)?-1:a-c:isNaN(a)?1:isNaN(c)?-1:c-a):0};jQuery.fn.jplist.domain.dom.services.SortService.numbers=function(d,c,b){b.sort(function(a,b){return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(a,b,d,c)})}})();(function(){jQuery.fn.jplist.domain.dom.services.SortService.textHelper=function(d,c,b,a,f){d=d.findPathitem(a);c=c.findPathitem(a);return d&&c?(f?(a=new RegExp(f,"ig"),f=d.text.toString().replace(a,"").toLowerCase(),d=c.text.toString().replace(a,"").toLowerCase()):(f=d.text.toString().toLowerCase(),d=c.text.toString().toLowerCase()),f==d?0:"asc"==b?f>d?1:-1:f<d?1:-1):0};jQuery.fn.jplist.domain.dom.services.SortService.text=function(d,c,b,a){b.sort(function(b,e){return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(b,
e,d,c,a)})}})();(function(){var d=function(c,b,a,f){var e=0,g,h;0<a.length&&(g=a[f],"default"!=g.data.path?(h=jQuery.fn.jplist.app.services.DTOMapperService.sort[g.data.type],jQuery.isFunction(h)&&(e=h(g,c,b))):(e=c.index,g=b.index,e=e===g?0:isNaN(e)?1:isNaN(g)?-1:e-g),0===e&&f+1<a.length&&(e=d(c,b,a,f+1)));return e};jQuery.fn.jplist.domain.dom.services.SortService.doubleSort=function(c,b){var a=!1;1===c.length&&c[0]&&c[0].data&&"default"===c[0].data.path&&(a=!0);a||b.sort(function(a,b){return d(a,b,c,0)});return b}})();(function(){var d=function(b,a){var c=null;if("{month}"==b){a=a.toLowerCase();if("january"===a||"jan"===a||"jan."===a)c=0;if("february"===a||"feb"===a||"feb."===a)c=1;if("march"===a||"mar"===a||"mar."===a)c=2;if("april"==a||"apr"===a||"apr."===a)c=3;"may"===a&&(c=4);if("july"==a||"jun"===a||"jun."===a)c=5;if("april"===a||"jul"===a||"jul."===a)c=6;if("august"===a||"aug"===a||"aug."===a)c=7;if("september"===a||"sep"===a||"sep."===a)c=8;if("october"===a||"oct"===a||"oct."===a)c=9;if("november"===a||
"nov"===a||"nov."===a)c=10;if("december"===a||"dec"===a||"dec."===a)c=11;null===c&&(c=parseInt(a,10),isNaN(c)||c--)}else c=parseInt(a,10);return c},c=function(b,a){var c,d=null;c=b.replace(/{year}|{month}|{day}|{hour}|{min}|{sec}/g,".*");(c=(new RegExp(c,"g")).exec(a))&&1<c.length&&(d=c[1]);return d};jQuery.fn.jplist.domain.dom.services.HelperService={};jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml=function(b){var a="",c=b[0].attributes,d=b.html();b=b[0].tagName.toString().toLowerCase();
for(var a=a+("<"+b),g=0;g<c.length;g++)c[g].nodeValue&&(a+=" "+c[g].nodeName+"=",a+='"'+c[g].nodeValue+'"');a=a+">"+d;return a+="</"+b+">"};jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters=function(b,a){return b?b.replace(new RegExp(a,"ig"),"").toLowerCase():""};jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime=function(b,a){var f,e,g,h,k,l;a=a.replace(/\./g,"\\.");a=a.replace(/\(/g,"\\(");a=a.replace(/\)/g,"\\)");a=a.replace(/\[/g,"\\[");a=a.replace(/\]/g,"\\]");
f=a.replace("{year}","(.*)");(e=c(f,b))&&(e=d("{year}",e));f=a.replace("{day}","(.*)");(h=c(f,b))&&(h=d("{day}",h));f=a.replace("{month}","(.*)");(g=c(f,b))&&(g=d("{month}",g));f=a.replace("{hour}","(.*)");(k=c(f,b))&&(k=d("{hour}",k));f=a.replace("{min}","(.*)");(l=c(f,b))&&(l=d("{min}",l));f=a.replace("{sec}","(.*)");(f=c(f,b))&&(f=d("{sec}",f));if(!e||isNaN(e))e=1900;if(!g||isNaN(g))g=0;if(!h||isNaN(h))h=1;if(!k||isNaN(k))k=0;if(!l||isNaN(l))l=0;if(!f||isNaN(f))f=0;return new Date(e,g,h,k,l,f)}})();(function(){jQuery.fn.jplist.dal.services.DeepLinksService={};jQuery.fn.jplist.dal.services.DeepLinksService.getUrlParams=function(d){var c=[],b,a=[],f,c=window.decodeURIComponent(jQuery.trim(window.location.hash.replace(d.hashStart,"")));if(d.deepLinking&&""!==jQuery.trim(c))for(var c=c.split(d.delimiter1),e=0;e<c.length;e++)b=c[e],f=b.split("="),2===f.length&&(b=f[0],f=f[1],b=b.split(d.delimiter0),2===b.length&&(b={controlName:b[0],propName:b[1],propValue:f},a.push(b)));return a};jQuery.fn.jplist.dal.services.DeepLinksService.updateUrlPerControls=
function(d,c){if(d.deepLinking){jQuery.fn.jplist.info(d,"Change Deep links URL according to statuses: ",c);var b=jQuery.trim(c.replace(d.hashStart,"")),a,b=""===b?d.hashStart:d.hashStart+b;window.location.hash!==b&&(a=window.location.href.indexOf(d.hashStart),b=-1==a?window.location.href+b:window.location.href.substring(0,a)+b,"replaceState"in window.history?window.history.replaceState("","",b):window.location.replace(b))}}})();(function(){jQuery.fn.jplist.domain.server.models.DataItemModel=function(d,c,b){this.content="";this.dataType=c;this.count=0;this.responseText=b;this.dataType||(this.dataType="html");switch(this.dataType){case "html":c=jQuery(d);0<c.length&&(this.content=c.html(),this.count=Number(c.attr("data-count"))||0);break;case "json":this.content=d.data;this.count=d.count;break;case "xml":c=jQuery(d).find("root"),this.count=Number(c.attr("count"))||0,this.content=0<this.count?d:""}}})();(function(){jQuery.fn.jplist.animation={};jQuery.fn.jplist.animation.drawItems=function(d,c,b,a,f,e,g,h){var k,l,m;if(f=jQuery.fn.jplist.animation[f]){k=f.before;m=f.effect;l=f.after;jQuery.isFunction(k)&&k(d,c,b,a);if(jQuery.isFunction(m))h.on(h.events.animationStepEvent,function(e,f,g){m(d,c,b,a,f)});h.on(h.events.animationCompleteEvent,function(e){jQuery.isFunction(l)&&l(d,c,b,a);h.off(h.events.animationStepEvent);h.off(h.events.animationCompleteEvent);jQuery.isFunction(g)&&g()});e.play(d.duration)}else jQuery.isFunction(g)&&
g()}})();(function(){var d=function(b){b.handler&&window.clearTimeout(b.handler);b.progress=0;b.start=null;b.observer.trigger(b.observer.events.animationCompleteEvent,[])},c=function(b,a){jQuery.isNumeric(a)&&0<a?b.handler=window.setTimeout(function(){var f;null===b.start&&(b.observer.trigger(b.observer.events.animationStartEvent,[]),b.start=(new Date).getTime());f=(new Date).getTime()-b.start;b.progress=f/a;1<=b.progress&&(b.progress=1);b.observer.trigger(b.observer.events.animationStepEvent,[100*b.progress,
b]);1>b.progress?c(b,a):d(b)},b.delay):d(b)};jQuery.fn.jplist.animation.Timeline=function(b,a,c){this.$scene=b;this.options=a;this.observer=c;this.start=null;this.progress=0;this.handler=this.delay=null;this.delay=1E3/this.options.fps};jQuery.fn.jplist.animation.Timeline.prototype.play=function(b){c(this,b)};jQuery.fn.jplist.animation.Timeline.prototype.stop=function(){d(this)}})();(function(){jQuery.fn.jplist.animation.fade={};jQuery.fn.jplist.animation.fade.before=function(d,c,b,a){};jQuery.fn.jplist.animation.fade.effect=function(d,c,b,a,f){c.find(d.itemPath).css({opacity:(100-f)/100})};jQuery.fn.jplist.animation.fade.after=function(d,c,b,a){c.empty();a.css({opacity:1});c.append(a)}})();(function(){var d=function(c,b,a){var d=b.dataitemsToJqueryObject(),e=b.dataviewToJqueryObject(),g=!1,h,k=jQuery.extend(!0,{},c.options,{duration:0});0>=d.length||0>=e.length?(c.$noResults.removeClass("jplist-hidden"),c.$itemsBox.addClass("jplist-hidden"),jQuery.isFunction(c.options.redrawCallback)&&c.options.redrawCallback(b,e,a)):(c.$noResults.addClass("jplist-hidden"),c.$itemsBox.removeClass("jplist-hidden"),c.options.effect?(c.history&&(h=c.history.getLastStatus())&&!h.inAnimation&&(g=!0),g=g?
k:c.options,jQuery.fn.jplist.animation.drawItems(g,c.$itemsBox,d,e,c.options.effect,c.timeline,function(){jQuery.isFunction(c.options.redrawCallback)&&c.options.redrawCallback(b,e,a)},c.observer)):(d.detach(),c.$itemsBox.append(e),jQuery.isFunction(c.options.redrawCallback)&&c.options.redrawCallback(b,e,a)))};jQuery.fn.jplist.ui.list.views.DOMView=function(c,b,a,d){this.options=b;this.$root=c;this.observer=a;this.history=d;this.timelineZero=this.timeline=null;this.$itemsBox=c.find(b.itemsBox).eq(0);
this.$noResults=c.find(b.noResults);this.options.effect&&(this.timeline=new jQuery.fn.jplist.animation.Timeline(this.$root,this.options,this.observer))};jQuery.fn.jplist.ui.list.views.DOMView.prototype.render=function(c,b){d(this,c,b)}})();(function(){jQuery.fn.jplist.ui.list.controllers.DOMController=function(d,c,b,a,f){this.options=c;this.observer=b;this.$root=d;this.history=f;this.storage=new jQuery.fn.jplist.dal.Storage(d,c,b);this.listView=this.itemControls=this.collection=null;this.itemControls=new jQuery.fn.jplist.ui.list.collections.ItemControlCollection(c,b,f,d);this.listView=new jQuery.fn.jplist.ui.list.views.DOMView(d,c,b,f);d=a.paths;c=this.$root.find(this.options.itemsBox).eq(0).find(this.options.itemPath);this.collection=
new jQuery.fn.jplist.domain.dom.collections.DataItemsCollection(this.options,this.observer,c,d)};jQuery.fn.jplist.ui.list.controllers.DOMController.prototype.renderStatuses=function(d){this.storage.save(d);this.collection&&(this.collection.applyStatuses(d),this.listView.render(this.collection,d))}})();(function(){var d=function(c,b){var a="html";c.options.dataSource&&c.options.dataSource.server&&c.options.dataSource.server.ajax&&((a=c.options.dataSource.server.ajax.dataType)||(a="html"));c.storage.save(b);jQuery.fn.jplist.dal.services.URIService.get(b,c.options,function(b,d,g,h){b=new jQuery.fn.jplist.domain.server.models.DataItemModel(b,a,h.responseText);var k;g=(new jQuery.fn.jplist.app.dto.StatusesDTOCollection(c.options,c.observer,d)).getStatusesByAction("paging",d);for(h=0;h<g.length;h++)k=
g[h],k.data.currentPage||(k.data.currentPage=0),k=new jQuery.fn.jplist.domain.dom.services.PaginationService(k.data.currentPage,k.data.number,b.count),g[h].data.paging=k;c.observer.trigger(c.observer.events.statusesAppliedToList,[null,d]);c.model.set(b,d)},function(a){},function(a){})};jQuery.fn.jplist.ui.list.controllers.ServerController=function(c,b,a,d,e){this.options=b;this.observer=a;this.history=e;this.storage=new jQuery.fn.jplist.dal.Storage(c,b,a);d=jQuery({});d.$root=null;d.events={modelChanged:"modelChanged"};
this.scopeObserver=d;this.$root=c;this.model=this.view=null;this.model=new jQuery.fn.jplist.ui.list.models.DataItemModel(null,null,this.scopeObserver);this.view=new jQuery.fn.jplist.ui.list.views.ServerView(c,b,a,this.scopeObserver,this.model,this.history)};jQuery.fn.jplist.ui.list.controllers.ServerController.prototype.renderStatuses=function(c){d(this,c)}})();(function(){var d=function(b,a,c){var d=!1,g,h=jQuery.extend(!0,{},b.options,{duration:0});a.content&&""!==jQuery.trim(a.content)?(b.$noResults.addClass("jplist-hidden"),b.$itemsBox.removeClass("jplist-hidden")):(b.$noResults.removeClass("jplist-hidden"),b.$itemsBox.addClass("jplist-hidden"));b.options.effect?(b.history&&(g=b.history.getLastStatus())&&!g.inAnimation&&(d=!0),d=d?h:b.options,jQuery.fn.jplist.animation.drawItems(d,b.$itemsBox,null,jQuery(a.content),b.options.effect,b.timeline,function(){jQuery.isFunction(b.options.redrawCallback)&&
b.options.redrawCallback(a.content,c)},b.observer)):(b.options.dataSource&&jQuery.isFunction(b.options.dataSource.render)?b.options.dataSource.render(a,c):b.$itemsBox.html(a.content),jQuery.isFunction(b.options.redrawCallback)&&b.options.redrawCallback(a.content,c))},c=function(b){b.scopeObserver.on(b.scopeObserver.events.modelChanged,function(a,c,e){b.$preloader&&b.$preloader.addClass("jplist-hidden");b.$itemsBox.removeClass("jplist-hidden");d(b,c,e)})};jQuery.fn.jplist.ui.list.views.ServerView=
function(b,a,d,e,g,h){this.options=a;this.$root=b;this.observer=d;this.scopeObserver=e;this.model=g;this.history=h;this.$itemsBox=b.find(a.itemsBox).eq(0);this.$noResults=b.find(a.noResults);this.timeline=this.$preloader=null;this.options.effect&&(this.timeline=new jQuery.fn.jplist.animation.Timeline(this.$root,this.options,this.observer));c(this)}})();(function(){jQuery.fn.jplist.ui.list.models.DataItemModel=function(d,c,b){this.dataItem=d;this.statuses=c;this.scopeObserver=b};jQuery.fn.jplist.ui.list.models.DataItemModel.prototype.set=function(d,c){this.dataItem=d;this.statuses=c;this.scopeObserver.trigger(this.scopeObserver.events.modelChanged,[d,c])}})();(function(){jQuery.fn.jplist.ui.list.ItemControlFactory=function(d,c,b,a){this.options=d;this.observer=c;this.history=b;this.$root=a};jQuery.fn.jplist.ui.list.ItemControlFactory.prototype.create=function(d){var c=null,b,a,f=null,e=null;b=d.attr("data-control-type");a={};jQuery.fn.jplist.itemControlTypes[b]&&(a=jQuery.extend(!0,{},a,jQuery.fn.jplist.itemControlTypes[b]));this.options.itemControlTypes&&this.options.itemControlTypes[b]&&(a=jQuery.extend(!0,{},a,this.options.itemControlTypes[b]));a&&
(a.className&&(f=jQuery.fn.jplist.ui.itemControls[a.className]),a.options&&(e=a.options));b={type:b,itemControlType:a,controlTypeClass:f,controlOptions:e};b=jQuery.extend(!0,b,{$control:d,history:this.history,observer:this.observer,options:this.options,$root:this.$root});b.controlTypeClass&&jQuery.isFunction(b.controlTypeClass)&&(c=new b.controlTypeClass(b));return c}})();(function(){var d=function(c){var b;c.options&&c.options.itemsBox&&(b=c.$root.find(c.options.itemsBox),0<b.length&&b.find("[data-control-type]").each(function(){var a=jQuery(this);(a=c.controlFactory.create(a))&&c.controls.push(a)}))};jQuery.fn.jplist.ui.list.collections.ItemControlCollection=function(c,b,a,f){this.options=c;this.observer=b;this.history=a;this.$root=f;this.controls=[];this.controlFactory=null;this.controlFactory=new jQuery.fn.jplist.ui.list.ItemControlFactory(c,b,a,f);d(this)}})();(function(){var d=function(a){var b=jQuery(window).scrollTop(),c;c=Number(a.data("top"));isNaN(c)||(b>c?a.addClass("jplist-sticky"):a.removeClass("jplist-sticky"))},c=function(a,b){b.each(function(){var a=jQuery(this),b=a.offset().top;a.data("top",b);d(a)});jQuery(window).scroll(function(){b.each(function(){d(jQuery(this))})})},b=function(b){var c=[];if("cookies"===b.options.storage||"localstorage"===b.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported())if(jQuery.fn.jplist.info(b.options,
"Storage enabled: ",b.options.storage),"cookies"===b.options.storage&&(c=jQuery.fn.jplist.dal.services.CookiesService.restoreCookies(b.options.storageName)),"localstorage"===b.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&(c=jQuery.fn.jplist.dal.services.LocalStorageService.restore(b.options.storageName)),0<c.length){for(var d=[],f=0;f<c.length;f++)c[f].inStorage&&d.push(c[f]);0<d.length&&(b.controls.setStatuses(d,!0),b.observer.trigger(b.observer.events.knownStatusesChanged,
[d]))}else a(b,!0);else a(b,!0)},a=function(a,b){var c;c=a.controls.getStatuses(b);a.observer.trigger(a.observer.events.knownStatusesChanged,[c])},f=function(a){var b;b=[];b=a.$root.find(a.options.panelPath).find("[data-control-type]");a.controls=new jQuery.fn.jplist.ui.panel.collections.ControlsCollection(a.options,a.observer,a.history,a.$root,b);a.paths=a.controls.getPaths();jQuery.fn.jplist.logEnabled(a.options)&&(b=jQuery.map(a.paths,function(a,b){return a&&a.jqPath?a.jqPath:""}),jQuery.fn.jplist.info(a.options,
"Panel paths: ",b.join(", ")))};jQuery.fn.jplist.ui.panel.controllers.PanelController=function(a,b,d,k){this.options=b;this.$root=a;this.history=d;this.observer=k;this.controls=this.paths=this.$sticky=null;f(this);this.$sticky=a.find('[data-sticky="true"]');0<this.$sticky.length&&c(this,this.$sticky)};jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.setStatusesByDeepLink=function(){var a;a=jQuery.fn.jplist.dal.services.DeepLinksService.getUrlParams(this.options);jQuery.fn.jplist.info(this.options,
"Set statuses by deep link: ",a);0>=a.length?b(this):this.controls.setDeepLinks(a)};jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.setStatusesFromStorage=function(){b(this)};jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.setStatuses=function(a){this.controls.setStatuses(a,!1);this.history.addList(a)};jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.unknownStatusesChanged=function(b){a(this,b)};jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.mergeStatuses=
function(a){if(a.isAnimateToTop){var b;b=jQuery(this.options.animateToTop).offset().top;jQuery("html, body").animate({scrollTop:b},this.options.animateToTopDuration)}a=this.controls.merge(!1,a);this.observer.trigger(this.observer.events.knownStatusesChanged,[a])};jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.statusesChangedByDeepLinks=function(a,b){this.controls&&this.controls.statusesChangedByDeepLinks(b)};jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.getDeepLinksURLPerControls=
function(){return this.controls.getDeepLinksUrl()}})();(function(){jQuery.fn.jplist.ui.panel.ControlFactory=function(d,c,b,a){this.options=d;this.observer=c;this.history=b;this.$root=a};jQuery.fn.jplist.ui.panel.ControlFactory.prototype.create=function(d,c){var b=null,a,f,e,g,h,k,l,m;a=d.attr("data-control-type");h=g=e=!0;k=!1;m=l=null;(f=d.attr("data-control-deep-link"))&&"false"===f.toString()&&(e=!1);(f=d.attr("data-control-storage"))&&"false"===f.toString()&&(g=!1);(f=d.attr("data-control-animation"))&&"false"===f.toString()&&(h=!1);(f=d.attr("data-control-animate-to-top"))&&
"true"===f.toString()&&(k=!0);f={};jQuery.fn.jplist.controlTypes[a]&&(f=jQuery.extend(!0,{},f,jQuery.fn.jplist.controlTypes[a]));this.options.controlTypes&&this.options.controlTypes[a]&&(f=jQuery.extend(!0,{},f,this.options.controlTypes[a]));f&&(f.className&&(l=jQuery.fn.jplist.ui.controls[f.className]),f.options&&(m=f.options));a={type:a,action:d.attr("data-control-action"),name:d.attr("data-control-name"),inDeepLinking:e,inStorage:g,inAnimation:h,isAnimateToTop:k,controlType:f,controlTypeClass:l,
controlOptions:m,paths:[]};a=jQuery.extend(!0,a,{$control:d,history:this.history,observer:this.observer,options:this.options,$root:this.$root,controlsCollection:c});a.controlTypeClass&&jQuery.isFunction(a.controlTypeClass)&&(b=new a.controlTypeClass(a));return b};jQuery.fn.jplist.ui.panel.ControlFactory.prototype.getStatus=function(d){return null};jQuery.fn.jplist.ui.panel.ControlFactory.prototype.setStatus=function(d,c){};jQuery.fn.jplist.ui.panel.ControlFactory.prototype.getDeepLink=function(){return""};
jQuery.fn.jplist.ui.panel.ControlFactory.prototype.getStatusByDeepLink=function(d,c){return null};jQuery.fn.jplist.ui.panel.ControlFactory.prototype.getPaths=function(d){return[]};jQuery.fn.jplist.ui.panel.ControlFactory.prototype.setByDeepLink=function(d){}})();(function(){var d=function(b,a){var c,d;c=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(b.options,b.observer,[]);for(var g=0;g<b.controls.length;g++)d=b.controls[g],jQuery.isFunction(d.getStatus)&&(d=d.getStatus(a))&&c.add(d,!1);jQuery.fn.jplist.info(b.options,"getStatuses: ",c);return c.toArray()},c=function(b,a){var c=b.controlFactory.create(a,b);c&&b.controls.push(c)};jQuery.fn.jplist.ui.panel.collections.ControlsCollection=function(b,a,d,e,g){this.options=b;this.observer=a;this.history=d;
this.$root=e;this.controlFactory=null;this.$controls=g;this.controls=[];this.controlFactory=new jQuery.fn.jplist.ui.panel.ControlFactory(b,a,d,e);for(a=0;a<this.$controls.length;a++)b=this.$controls.eq(a),c(this,b)};jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.merge=function(b,a){var c,e;e=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(this.options,this.observer,[]);c=d(this,b);for(var g=0;g<c.length;g++)e.add(c[g],!1);e.add(a,!0);return e.toArray()};jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.statusesChangedByDeepLinks=
function(b){for(var a,c=0;c<this.controls.length;c++)a=this.controls[c],jQuery.isFunction(a.setByDeepLink)&&a.setByDeepLink(b)};jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.setDeepLinks=function(b){var a,c,d,g=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(this.options,this.observer,[]),h;for(h=0;h<b.length;h++){a=b[h];c=a.controlName;var k=[];d=void 0;for(var l=0;l<this.controls.length;l++)d=this.controls[l],d.name===c&&k.push(d);c=k;for(k=0;k<c.length;k++)d=c[k],jQuery.isFunction(d.getStatusByDeepLink)&&
(d=d.getStatusByDeepLink(a.propName,a.propValue))&&g.add(d,!1)}this.observer.trigger(this.observer.events.knownStatusesChanged,[g.toArray()]);this.observer.trigger(this.observer.events.statusesChangedByDeepLinks,[,g.toArray(),b])};jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.setStatuses=function(b,a){for(var c,d,g=0;g<b.length;g++){c=b[g];d=c.name;for(var h=c.action,k=[],l=void 0,m=0;m<this.controls.length;m++)l=this.controls[m],l.name===d&&l.action===h&&k.push(l);d=k;for(h=
0;h<d.length;h++)jQuery.isFunction(d[h].setStatus)&&d[h].setStatus(c,a)}};jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.getDeepLinksUrl=function(){var b;b="";var a=[],c="",d;d=this.controls;for(var g=0;g<d.length;g++)b=d[g],jQuery.isFunction(b.getDeepLink)&&(c=jQuery.trim(b.getDeepLink())),""!==c&&-1===jQuery.inArray(c,a)&&a.push(c);return b=a.join(this.options.delimiter1)};jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.getStatuses=function(b){return d(this,
b)};jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.getPaths=function(){var b,a=[],c;c=new jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection(this.options,this.observer);for(var d=0;d<this.controls.length;d++)b=this.controls[d],jQuery.isFunction(b.getPaths)&&(b.getPaths(a),c.addRange(a));return c.paths};jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.add=function(b){c(this,b)}})();(function(){var d=function(a){var b=[];a=jQuery();jQuery(document).find("[data-control-type]").each(function(){var a=jQuery(this),c=a.attr("data-control-type");c&&jQuery.fn.jplist.controlTypes[c]&&jQuery.fn.jplist.controlTypes[c].dropdown&&b.push(a)});for(var c=0;c<b.length;c++)a=a.add(b[c]);return a},c=function(a){var b=d(a);0<b.length&&(jQuery(document).click(function(){b.find("ul").hide()}),jQuery(document).off(a.DROPDOWN_CLOSE_EVENT).on(a.DROPDOWN_CLOSE_EVENT,function(a,c){b.each(function(){jQuery(this).is(c)||
jQuery(this).find("ul").hide()})}));a.$control.find(".jplist-dd-panel").off().on("click",function(b){var c;b.stopPropagation();b=jQuery(this).parents("[data-control-type]");c=b.find("ul");jQuery(document).trigger(a.DROPDOWN_CLOSE_EVENT,[b]);c.toggle(0)})},b=function(a,b,d,g){a={options:a,observer:b,history:d,$control:g,DROPDOWN_CLOSE_EVENT:"dropdown-close-event"};b=a.$control.find("li:eq(0)");b.addClass("active");b=b.find("span");0>=a.$control.find(".jplist-dd-panel").length&&a.$control.prepend('<div class="jplist-dd-panel">'+
b.text()+"</div>");c(a);return jQuery.extend(this,a)};jQuery.fn.jplist.ui.panel.DropdownControl=function(a,c,d,g){return new b(a,c,d,g)}})();(function(){jQuery.fn.jplist.dal.Storage=function(d,c,b){this.options=c;this.observer=b;this.$root=d;this.isStorageEnabled=!1;this.isStorageEnabled="cookies"===this.options.storage||"localstorage"===this.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()};jQuery.fn.jplist.dal.Storage.prototype.save=function(d){var c=[],b;if(d&&this.isStorageEnabled){for(var a=0;a<d.length;a++)b=d[a],b.inStorage&&c.push(b);"cookies"===this.options.storage&&jQuery.fn.jplist.dal.services.CookiesService.saveCookies(c,
this.options.storageName,this.options.cookiesExpiration);"localstorage"===this.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&jQuery.fn.jplist.dal.services.LocalStorageService.save(c,this.options.storageName)}}})();(function(){jQuery.fn.jplist.dal.services.CookiesService={};jQuery.fn.jplist.dal.services.CookiesService.setCookie=function(d,c,b){c=escape(c);var a=new Date;b=Number(b);-1==b||isNaN(b)?document.cookie=d+"="+c+";path=/;":(a.setMinutes(a.getMinutes()+b),document.cookie=d+"="+c+";path=/; expires="+a.toUTCString())};jQuery.fn.jplist.dal.services.CookiesService.getCookie=function(d){var c,b,a,f=null;a=document.cookie.split(";");for(var e=0;e<a.length;e++)if(c=a[e].substr(0,a[e].indexOf("=")),b=a[e].substr(a[e].indexOf("=")+
1),c=c.replace(/^\s+|\s+$/g,""),c==d){f=unescape(b);break}return f};jQuery.fn.jplist.dal.services.CookiesService.saveCookies=function(d,c,b){d=JSON.stringify(d);jQuery.fn.jplist.dal.services.CookiesService.setCookie(c,d,b)};jQuery.fn.jplist.dal.services.CookiesService.restoreCookies=function(d){var c=[];(d=jQuery.fn.jplist.dal.services.CookiesService.getCookie(d))&&(c=jQuery.parseJSON(d));c||(c=[]);return c}})();(function(){jQuery.fn.jplist.dal.services.LocalStorageService={};jQuery.fn.jplist.dal.services.LocalStorageService.supported=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(d){return!1}};jQuery.fn.jplist.dal.services.LocalStorageService.save=function(d,c){var b;b=JSON.stringify(d);window.localStorage[c]=b};jQuery.fn.jplist.dal.services.LocalStorageService.restore=function(d){var c=[];(d=window.localStorage[d])&&(c=jQuery.parseJSON(d));c||(c=[]);return c}})();(function(){jQuery.fn.jplist.dal.services.URIService={};jQuery.fn.jplist.dal.services.URIService.get=function(d,c,b,a,f){var e=c.dataSource.server;e.ajax.data||(e.ajax.data={});e.ajax.data.statuses=encodeURIComponent(JSON.stringify(d,function(a,b){return b&&b.nodeType?null:b}));jQuery.ajax(e.ajax).done(function(a,c,f){jQuery.isFunction(b)&&b(a,d,c,f);jQuery.isFunction(e.serverOkCallback)&&e.serverOkCallback(a,d,c,f)}).fail(function(){jQuery.isFunction(a)&&a(d);jQuery.isFunction(e.serverErrorCallback)&&
e.serverErrorCallback(d)}).always(function(){jQuery.isFunction(f)&&f(d)})}})();
